<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>予約入力・一覧（自分用）</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>

<body>
<div class="container">

    <h2>予約入力</h2>

    <form th:action="@{/reserve_confirm_login}" method="post">

        顧客ID：
        <input type="number" name="c_id" th:value="${loginId}" readonly><br>

        車ID：
        <input type="number" name="car_id" required><br>

        開始日：
        <input type="date" name="rent_sDate" required><br>

        返却日：
        <input type="date" name="rent_eDate" required><br>

<!--        状態：-->
<!--        <select name="status">-->
<!--            <option value="ongoing">予約中</option>-->
<!--            <option value="returned">返却済</option>-->
<!--            <option value="cancelled">キャンセル</option>-->
<!--        </select><br>-->

        <input type="submit" value="登録">
    </form>

    <form th:action="@{/login_customer_result}" method="get">
        <input type="submit" value="戻る">
    </form>

    <hr>
	<div th:if="${successMsg}" style="color: green; margin-bottom: 10px;">
	    <p th:text="${successMsg}"></p>
	</div>

    <h2>予約一覧</h2>

    <table>
        <tr>
            <th>オーダーID</th>
            <th>車両ID</th>
            <th>開始日</th>
            <th>返却日</th>
            <th>状態</th>
            <th>編集</th>
            <th>詳細</th>
        </tr>

        <tr th:each="res : ${myReservations}">
            <td th:text="${res.res_id}"></td>
            <td th:text="${res.car_id}"></td>
            <td th:text="${res.rent_sDate}"></td>
            <td th:text="${res.rent_eDate}"></td>
            <td th:switch="${res.status}">
                <span th:case="'ongoing'">予約中</span>
                <span th:case="'returned'">返却済</span>
                <span th:case="'cancelled'">キャンセル</span>
            </td>
            <td>
                <a th:href="@{/reserve_update_login(id=${res.res_id})}">編集</a>
            </td>
            <td>
                <a th:href="@{/reserve_info(id=${res.res_id})}">詳細</a>
            </td>
        </tr>
    </table>

</div>
</body>
</html>
